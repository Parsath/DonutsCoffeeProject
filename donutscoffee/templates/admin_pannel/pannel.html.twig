{% extends 'admin_pannel/admin_nav.html.twig' %}

{% block dashOn %}active{% endblock %}

{% block headerTitle %}Dashboard <small>Manage Your Site</small>{% endblock %}

{% block breadcrumbList %}
    <li class="active">Dashboard</li>
{% endblock %}

{% block content %}

    <section id="main">
        <div class="container">
            <div class="row">

                {% block sidebar %}
                    {{ parent() }}
                {% endblock %}

                <div class="col-md-8 ml-auto">

                    {# WEBSITE OVERVIEW #}

                    <div class="card">
                        <div class="card-header main-color-bg">
                            Website Overview
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3 mr-auto">
                                    <div class="card card-body bg-light">
                                        <h5><i class="fa fa-list-alt"></i> {{ articleCount }}</h5>
                                        <h6>Menu</h6>
                                    </div>
                                </div>
                                <div class="col-md-3 mr-auto ml-auto">
                                    <div class="card card-body bg-light">
                                        <h5><i class="fa fa-pencil"></i> {{ orderCount }}</h5>
                                        <h6>Orders</h6>
                                    </div>
                                </div>
                                <div class="col-md-3 ml-auto">
                                    <div class="card card-body bg-light">
                                        <h5><i class="fa fa-user"></i> {{ userCount }}</h5>
                                        <h6>Users</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {# LATEST ORDERS #}

                    <div class="card">
                        <div class="card-header main-color-bg">
                            Ongoing Orders
                        </div>
                        <div class="card-body">
                            <table class="table table-striped table-hover">
                               <tr>
                                   <th>Name</th>
                                   <th>Phone Number</th>
                                   <th>Created at</th>
                                   <th>Status</th>
                                   <th>Type</th>
                                   <th>Price</th>
                                   <th>Address</th>
                               </tr>
                                {% for order in ongoingOrders %}
                                    <tr>
                                        <td>{{ order.name }}</td>
                                        <td>{{ order.phone }}</td>
                                        <td>{{ order.createdAt|date('Y-m-d') }}</td>
                                        <td>{{ order.status }}</td>
                                        <td>
                                            {% if order.pickup == 1 %}
                                                Pickup
                                            {% elseif order.pickup == 0 %}
                                                Delivery
                                            {% endif %}
                                        </td>
                                        <td>{{ order.price }} DT</td>
                                        <td>{{ order.address }}</td>
                                        <td><a class="btn btn-secondary" href="#">Shipped</a><a class="btn btn-danger" href="#">Cancelled</a></td>
                                    </tr>
                                {% endfor %}

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {# Modals #}

    <div class="modal fade" id="addDonut" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="row">
                    <div class="col-md-11">
                        <form>
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label>Article Name</label>
                                    <input type="text" class="form-control" id="add-name" placeholder="Unique Item Name">
                                </div>
                                <div class="form-group">
                                    <label>Article Description</label>
                                    <textarea name="editor1" class="form-control" id="add-description" placeholder="Item Description"></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Article Quantity Available</label>
                                    <input type="number" class="form-control" id="add-quantity" min="0" placeholder="Item Quantity">
                                </div>
                                <div class="form-group">
                                    <label>Article Price</label>
                                    <input type="number" class="form-control" id="add-quantity" step="0.001" min="0" placeholder="Item Price">
                                </div>
                                <div class="form-group">
                                    <label>Article Link</label>
                                    <input type="text" class="form-control" id="add-link" placeholder="Add Source Item Image Link">
                                </div>
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" id="add-carousel"> Carousel
                                    </label>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer id="footer" class="footer admin-footer main-color-bg">
        <p>Copyrights AdminStrap, &copy; 2020</p>
    </footer>

    

{% endblock %}